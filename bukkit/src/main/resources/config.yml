# Kitsune Configuration

# Embedding Service Configuration
embedding:
  # Provider: "onnx" (local), "openai", or "google"
  provider: "onnx"

  # OpenAI settings (only used if provider is "openai")
  openai:
    api-key: ""
    model: "text-embedding-3-small"

  # Google AI settings (only used if provider is "google")
  # Get API key from: https://aistudio.google.com/app/apikey
  google:
    api-key: ""
    # Models: gemini-embedding-001 (stable), text-embedding-004 (newer, better)
    model: "text-embedding-004"

  # ONNX settings (only used if provider is "onnx")
  onnx:
    # Model: nomic-embed-text-v1.5, all-MiniLM-L6-v2
    model: "nomic-embed-text-v1.5"

    # Auto-download model from Hugging Face if missing
    auto-download: true

    # Custom repository (optional, overrides built-in registry)
    # Example: "nomic-ai/nomic-embed-text-v1.5"
    repository: ""

    # Custom paths within repository (optional)
    model-path: ""
    tokenizer-path: ""

    # Download retry settings
    download-retries: 3
    download-timeout-seconds: 300

  # Embedding dimension (nomic: 768, all-MiniLM-L6-v2: 384)
  dimension: 768

# Storage Configuration
storage:
  # Provider: "local" (SQLite + JVector hybrid) or "supabase"
  # Local uses SQLite for metadata and JVector for fast vector search
  provider: "local"

  # Supabase settings (only used if provider is "supabase")
  supabase:
    url: ""
    key: ""
    table: "containers"

# Indexing Configuration
indexing:
  # Debounce delay in milliseconds (prevents rapid re-indexing)
  debounce-delay-ms: 2000

  # Enable/disable hopper transfer indexing
  hopper-transfers: true

  # Enable/disable hopper minecart deposit indexing
  hopper-minecart-deposits: true

# Search Configuration
search:
  # Default number of results per search
  default-limit: 10

  # Maximum number of results per search
  max-limit: 50

# Protection Plugin Integration
protection:
  # Enable protection checks
  enabled: true

  # Plugin: "auto" (auto-detect), "lockette", "bolt", or "none"
  plugin: "auto"
